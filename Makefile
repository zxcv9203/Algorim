#############################################
#	  Algorim build manager version 0.1    #
############################################

############################################
#				Variables				   #
############################################
# Makefile Variables

# NAME í”„ë¡œì íŠ¸ ì´ë¦„
NAME=Algorim

############################################
#				Text Color		           #
############################################
GREEN		=	\033[32m
BG_GREEN	=	\033[42m
WHITE		=	\033[37m
END			=	\033[0m

############################################
#				Rules		               #
############################################
## -----------------------------------------
##          ğŸ“Œ Makefile ëª…ë ¹ ëª©ë¡
## -----------------------------------------
##
##

## help	: Algorim Makefile ëª…ë ¹ì— ëŒ€í•´ ì¶œë ¥í•´ì¤ë‹ˆë‹¤.
##
help:
			@sed -n '/@sed/!s/## //p' Makefile

## build	: Algorimì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì‹¤í–‰íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.
##
build:
	@echo "$(WHITE) ğŸ› ï¸ $(NAME) ì‹¤í–‰íŒŒì¼ ìƒì„±ì¤‘...$(END)"
	@go build cmd/algorim/main.go
	@echo "$(BG_GREEN) âœ”ï¸$(END) $(GREEN) $(NAME) ì‹¤í–‰íŒŒì¼ ìƒì„±ì™„ë£Œ $(END)"

## run	: Algorim ì‹¤í–‰ íŒŒì¼ì„ ë§Œë“¤ì§€ ì•Šê³  í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
run:
	@go run cmd/algorim/main.go

## start	: Algorimì„ ì‹¤í–‰ íŒŒì¼ì„ ë§Œë“  í›„(ë¹Œë“œ ì§„í–‰) í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
start: build
		./main

## clean	: Algorim ì‹¤í–‰ íŒŒì¼ì„ ì œê±°í•©ë‹ˆë‹¤.
clean:
	@echo "$(WHITE)ğŸ§¹ $(NAME) ì‹¤í–‰íŒŒì¼ ì‚­ì œì¤‘... $(END)"
	@rm -rf main
	@echo "$(BG_GREEN) âœ”ï¸ $(END)ï¸ $(NAME) ì‹¤í–‰íŒŒì¼ ì‚­ì œì™„ë£Œ $(END)"

## test	: Algorimì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
test:
	@echo "$(WHITE)ğŸ§ª $(NAME) í…ŒìŠ¤íŠ¸ ì‹œì‘... $(END)"
	@go test ./...

## re	: Algorim ì‹¤í–‰ íŒŒì¼ì„ ì‚­ì œí•œ í›„ ì¬ ë¹Œë“œ í›„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤.
re: clean start

.PHONY: help build run start test clean re
